<?php/** * Created by PhpStorm. * User: Baymax * Date: 2018/3/17 * Time: 19:38 */namespace app\Common\Controller;use think\Controller;use think\Session;use think\Auth;use think\Request;use app\Common\model\News;//权限认证class AuthAdminController extends Controller{    protected function _initialize()    {        $user = model('User');        $request = Request::instance();        $id = Session::get('admin_id');        if (!session('admin_id')) {            $this->error('未登录或者登陆过期，即将跳转到登录页面', './login');        } else {            $auth = new \Auth\Auth();            if(!$auth->check($request->module() .'/'.$request->controller().'/'.$request->action(),$id)){                //var_dump($request->module() .'/'.$request->controller()) ;               $this->success('你没有权限');                //$this->fetch(ROOT_PATH.'public/view/System/403.html');            }        }    }}