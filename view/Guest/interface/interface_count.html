{extend name="guest@base/user"/}{block name="title"}接口申请{/block}{block name="navbar-two"}<li class="dropdown active">    <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">接口管理<span class="caret"></span></a>    <ul class="dropdown-menu">        <li><a href="_ROOT_/user/interface/submit">申请进度</a></li>        <li><a href="_ROOT_/user/interface/key">获取KEY</a></li>        <li><a href="_ROOT_/user/interface/count">接口统计</a></li>        <li><a href="_ROOT_/user/interface/log">详细记录</a></li>    </ul></li>{/block}{block name="contont"}<!-- Begin page content --><div class="container">    <div class="col-md-12 container-box">        <div class="inner center-block">            <h1 class="cover-heading">使用数据统计，时刻了解接口动态</h1>            <p class="lead">                我们将对您的接口使用情况做统计，方便您了解接口的使用情况。用数据来分析您的接口，更加形象更加的直观！</p>        </div>        <div class="col-md-6">            <div class="inner">                <h3>接口使用情况</h3>            </div>            <table class="table text-center">                <thead>                <tr>                    <th class="text-center">#</th>                    <th class="text-center">接口类型</th>                    <th class="text-center">成功次数</th>                    <th class="text-center">失败次数</th>                </tr>                </thead>                <tbody>                <tr>                    <td>1</td>                    <td>人脸识别</td>                    <td>{$success_count_faces}</td>                    <td>{$fail_count_faces}</td>                </tr>                <tr>                    <td>2</td>                    <td>图像识别</td>                    <td>{$success_count_pic}</td>                    <td>{$fail_count_pic}</td>                </tr>                <tr>                    <td>3</td>                    <td>印刷文字识别</td>                    <td>{$success_count_text}</td>                    <td>{$fail_count_text}</td>                </tr>                </tbody>            </table>        </div>        <div class="col-md-6">            <div class="inner">                <h3>最近使用情况</h3>            </div>            <table class="table text-center">                <thead>                <tr>                    <th class="text-center">#</th>                    <th class="text-center">使用日期</th>                    <th class="text-center">类型</th>                    <th class="text-center">IP</th>                </tr>                </thead>                <tbody>                {volist name="inter_new" id="data" empty="还没有申请过的接口哦，赶快申请去吧！"}                <tr>                    <td>{$i}</td>                    <td>{$data.time}</td>                    <td>{$type[$data.type]}</td>                    <td>{$data.ip}</td>                </tr>                {/volist}                </tbody>            </table>        </div>        <div class="col-md-12 text-center">            <a href="../introduce_file">查看开发文档</a>            <em class="vline"></em>            <a href="log">查看接口使用记录</a>            <em class="vline"></em>            <a href="submit">申请新接口</a>        </div>    </div></div>{/block}{block name="linkjs"}{/block}{block name="js"}<script>    function changeState(el) {        if (el.readOnly) el.checked = el.readOnly = false;        else if (!el.checked) el.readOnly = el.indeterminate = true;    }    $(function () {        $('.reset').click(function () {            var type = $(this).attr('type');            var data_id = $(this).attr('data-id');            var obj = $(this);                $.ajax({                    url: 'interface_submit/reset',                    type: 'POST',                    data: {                        uid:data_id,                        type:type,                    },                    success: function (result) {                        if (result.status) {                            //status为1成功                            layer.msg('重置成功！', {                                icon: 1,                                time: 3000,                                end: function () {                                    obj.siblings('input').val(result.msg);                                }                            });                        } else {                            layer.msg('' + result.msg, {icon: 2});                        }                    },                    error: function () {                        layer.msg('网络开小差了!', {icon: 5});                    }                });        })    })</script>{/block}